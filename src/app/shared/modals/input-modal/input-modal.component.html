<div class="properties-modal input-modal">
  <div class="modal-header" data-tauri-drag-region>
    <button><mat-icon [svgIcon]="data.icon || 'circle-info'"></mat-icon></button>
    <p>{{ data.title || ('shared.inputModal.enterValue' | translate) }}</p>
    <button mat-icon-button (click)="onCancel()" [attr.aria-label]="'common.close' | translate">
      <mat-icon svgIcon="circle-xmark"></mat-icon>
    </button>
  </div>

  <div class="modal-content">
    <mat-form-field appearance="fill" style="width: 100%">
      <mat-label>{{
        data.label || data.existingNameType || ('shared.inputModal.name' | translate)
      }}</mat-label>
      <input matInput [placeholder]="data.placeholder || ''" [formControl]="nameControl" />
      @if (nameControl.hasError('required')) {
        <mat-error>{{
          'shared.inputModal.required'
            | translate
              : {
                  field:
                    data.label || data.existingNameType || ('shared.inputModal.name' | translate),
                }
        }}</mat-error>
      } @else if (nameControl.hasError('alreadyExists')) {
        <mat-error>{{
          'shared.inputModal.alreadyExists'
            | translate: { name: data.existingNameType || ('shared.inputModal.name' | translate) }
        }}</mat-error>
      } @else if (nameControl.hasError('forbiddenChars')) {
        <mat-error>{{
          data.forbiddenCharsMessage ||
            ('shared.inputModal.forbiddenChars'
              | translate
                : { name: data.existingNameType || ('shared.inputModal.name' | translate) })
        }}</mat-error>
      }
    </mat-form-field>
  </div>

  <div class="modal-actions">
    <button mat-flat-button class="primary" [disabled]="!nameControl.valid" (click)="onConfirm()">
      {{ data.createLabel || ('shared.inputModal.create' | translate) }}
    </button>
  </div>
</div>
