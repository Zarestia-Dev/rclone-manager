<div class="properties-modal input-modal">
  <div class="modal-header" data-tauri-drag-region>
    <button><mat-icon [svgIcon]="data.icon || 'circle-info'"></mat-icon></button>
    <p>{{ data.title || 'Enter Value' }}</p>
    <button mat-icon-button (click)="onCancel()" aria-label="Close">
      <mat-icon svgIcon="circle-xmark"></mat-icon>
    </button>
  </div>

  <div class="modal-content">
    <mat-form-field appearance="fill" style="width: 100%">
      <mat-label>{{ data.label || data.existingNameType || 'Name' }}</mat-label>
      <input matInput [placeholder]="data.placeholder || ''" [formControl]="nameControl" />
      @if (nameControl.hasError('required')) {
        <mat-error>{{
          data.label || data.existingNameType
            ? (data.label || data.existingNameType) + ' is required'
            : 'Name is required'
        }}</mat-error>
      } @else if (nameControl.hasError('alreadyExists')) {
        <mat-error>{{ (data.existingNameType || 'Name') + ' already exists' }}</mat-error>
      } @else if (nameControl.hasError('forbiddenChars')) {
        <mat-error>{{
          data.forbiddenCharsMessage ||
            (data.existingNameType || 'Name') + " contains forbidden characters ('/' or ':' )"
        }}</mat-error>
      }
    </mat-form-field>
  </div>

  <div class="modal-actions">
    <button mat-flat-button color="primary" [disabled]="!nameControl.valid" (click)="onConfirm()">
      {{ data.createLabel || 'Create' }}
    </button>
  </div>
</div>
